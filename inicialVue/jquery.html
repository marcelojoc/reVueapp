<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Vue Basico Platzi  200.32.49.246:27017</title>
</head>
<body>

</body>

<script src="https://code.jquery.com/jquery-3.3.1.min.js"></script>




<script>

const API_URL = 'https://swapi.co/api/';

const PEOPLE_ID ='people/:id';

const opts = {crossDomain: true};

// $.get(`${API_URL}${PEOPLE_ID}`, {crossDomain: true}, function( data ){

//     console.log(arguments);

//     console.log(`HOLA MI NOMBRE ES ${data.name}`);

    

// });

// Esta funcion hace algo con la paesona que se envia por parametro
function peopleSay(people){

    console.log(arguments);

    console.log(`HOLA MI NOMBRE ES ${people.name}`);
}


// function obtenerPersonaje(id, callback){

//     let url = API_URL + PEOPLE_ID.replace(":id", id);

//     $.get(url, opts, peopleSay).fail(function(){

//         console.log('ocurrio un error en la peticion');
//     })

//     if(callback){
//         callback() 
//     }

// }



function obtenerPersonaje(id){

    return  new Promise( (resolve, reject)=>{

        let url = API_URL + PEOPLE_ID.replace(":id", id);
        $
            .get(url, opts, function(data){
                resolve(data)
            })
            .fail(function(){
                reject(id)
            })
        
    } );


}

obtenerPersonaje(17)

    .then(function(personaje){
        console.log(`HOLA MI NOMBRE ES ${personaje.name}`);
    })
    .catch(function(id){
        console.log(`HAY UN ERRO CON  ${id}`);
    })


</script>
</html>